{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shahv\\\\Documents\\\\real-time-traffic\\\\frontend\\\\src\\\\components\\\\PieChart.js\",\n  _s = $RefreshSig$();\n// src/components/PieChart.js\nimport React, { useState, useEffect } from 'react';\nimport { Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS } from 'chart.js/auto';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PieChart = () => {\n  _s();\n  const [chartData, setChartData] = useState({\n    labels: [],\n    datasets: [{\n      label: 'Traffic Conditions',\n      data: [],\n      backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)'],\n      borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)'],\n      borderWidth: 1\n    }]\n  });\n  const fetchTrafficConditionData = async () => {\n    try {\n      const response = await fetch('http://127.0.0.1:5000/traffic_data/conditions');\n      const data = await response.json();\n      if (data && typeof data === 'object' && !Array.isArray(data)) {\n        setChartData(prevData => ({\n          ...prevData,\n          labels: Object.keys(data),\n          datasets: prevData.datasets.map(dataset => ({\n            ...dataset,\n            data: Object.values(data)\n          }))\n        }));\n      }\n    } catch (error) {\n      console.error('Error fetching traffic condition data:', error);\n    }\n  };\n  useEffect(() => {\n    fetchTrafficConditionData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Traffic Condition Distribution\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Pie, {\n        data: chartData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Legend\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Congested:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 20\n        }, this), \" Speed less than 20 mph\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Slow-moving:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 20\n        }, this), \" Speed between 20 and 40 mph\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Free-flowing:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 20\n        }, this), \" Speed greater than 40 mph\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(PieChart, \"O7cWUk2J0y4FaOP6Pw+kuuFj9SQ=\");\n_c = PieChart;\nexport default PieChart;\nvar _c;\n$RefreshReg$(_c, \"PieChart\");","map":{"version":3,"names":["React","useState","useEffect","Pie","Chart","ChartJS","jsxDEV","_jsxDEV","PieChart","_s","chartData","setChartData","labels","datasets","label","data","backgroundColor","borderColor","borderWidth","fetchTrafficConditionData","response","fetch","json","Array","isArray","prevData","Object","keys","map","dataset","values","error","console","style","display","justifyContent","alignItems","children","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/shahv/Documents/real-time-traffic/frontend/src/components/PieChart.js"],"sourcesContent":["// src/components/PieChart.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport { Chart as ChartJS } from 'chart.js/auto';\r\n\r\nconst PieChart = () => {\r\n    const [chartData, setChartData] = useState({\r\n        labels: [],\r\n        datasets: [{\r\n            label: 'Traffic Conditions',\r\n            data: [],\r\n            backgroundColor: [\r\n                'rgba(255, 99, 132, 0.2)',\r\n                'rgba(54, 162, 235, 0.2)',\r\n                'rgba(255, 206, 86, 0.2)',\r\n            ],\r\n            borderColor: [\r\n                'rgba(255, 99, 132, 1)',\r\n                'rgba(54, 162, 235, 1)',\r\n                'rgba(255, 206, 86, 1)',\r\n            ],\r\n            borderWidth: 1,\r\n        }],\r\n    });\r\n\r\n    const fetchTrafficConditionData = async () => {\r\n        try {\r\n            const response = await fetch('http://127.0.0.1:5000/traffic_data/conditions');\r\n            const data = await response.json();\r\n            if (data && typeof data === 'object' && !Array.isArray(data)) {\r\n                setChartData(prevData => ({\r\n                    ...prevData,\r\n                    labels: Object.keys(data),\r\n                    datasets: prevData.datasets.map(dataset => ({\r\n                        ...dataset,\r\n                        data: Object.values(data)\r\n                    }))\r\n                }));\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching traffic condition data:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchTrafficConditionData();\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n            <div>\r\n                <h2>Traffic Condition Distribution</h2>\r\n                <Pie data={chartData} />\r\n            </div>\r\n            <div style={{ marginLeft: '20px' }}>\r\n                <h3>Legend</h3>\r\n                <p><strong>Congested:</strong> Speed less than 20 mph</p>\r\n                <p><strong>Slow-moving:</strong> Speed between 20 and 40 mph</p>\r\n                <p><strong>Free-flowing:</strong> Speed greater than 40 mph</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PieChart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}